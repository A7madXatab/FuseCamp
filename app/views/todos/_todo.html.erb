<%= turbo_frame_tag dom_id(todo) do %>
  <article
    data-controller="todo"
    data-todo-id-value="<%= todo.id %>"
    class="w-full flex items-center justify-start my-1 todo__container relative">

    <aside data-todo-target="menu" id="side-menu" class="absolute border my-1 p-2 mr-3 rounded-md shadow hidden bg-white"
           style="height: 200px; left: -150px; width: 115px; top: -10px; z-index: 40">

      <div class="w-5 h-5 border transform rotate-45 absolute bg-white border-b-0 border-l-0" style="right: -9px;">

      </div>

      <ul class="text-sm text--gray">
        <li class="todo__aside__menu__button px-1 outline-none w-full relative z-50">
          <%= link_to "Edit" ,edit_user_project_todo_list_todo_path(current_user, todo.todo_list.project, todo.todo_list, todo), class: "" %>
        </li>
        <li>Move</li>
        <li>Copy</li>
        <hr class="bg-body my-2"/>
        <li>Archive</li>
        <li>
          <%= form_tag [current_user, todo.todo_list.project, todo.todo_list, todo] do |f| %>s
            <input type="hidden" name="_method" value="delete">
            <button type="submit">
              Delete
            </button>
          <% end %>
          <%#= link_to "Delete" ,user_project_todo_list_todo_path(current_user, todo.todo_list.project, todo.todo_list, todo), class: "", method: :delete %>
        </li>
<!--        TODO: SHOULD be trashed-->
        <hr class="bg-body my-2"/>
        <li class="w-full">
          <button data-action="click->todos#showForm" class="todo__aside__menu__button px-1 focus:outline-none">Insert a
            todo
          </button>
        </li>
      </ul>
    </aside>


    <main class="w-full flex todo__container">
      <%= form_for [current_user, todo.todo_list.project, todo.todo_list, todo], method: :put, class: "flex" do |f| %>
        <button class="w-5 h-5 rounded border border-gray-400 flex justify-center items-center focus:outline-none" aria-label="toggle update status"></button>
      <% end %>


      <h1 class="mx-2 text--gray"><%= todo.name %> </h1>

      <span data-action="click->todo#showMenu" class="cursor-pointer">  <small class="text__light" id="schedule">Assign/Schedule</small></span>
    </main>
  </article>
<% end %>